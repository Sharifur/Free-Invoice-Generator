(()=>{"use strict";const e=wp.blocks,t=wp.i18n,n=wp.blockEditor,a=wp.components,i=wp.element;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}(0,e.registerBlockType)("sig/legal-compliance",{edit:function(e){var r,c,u=e.attributes,g=e.setAttributes,d=u.title,v=u.subtitle,p=u.backgroundColor,b=u.gradientEndColor,R=u.accentColor,h=u.essentialElements,f=u.essentialsSectionTitle,E=u.taxRegions,x=u.taxSectionTitle,C=u.internationalCards,y=u.internationalSectionTitle,N=u.checklist,_=u.checklistSectionTitle,T=u.showCTA,k=u.ctaText,S=u.ctaUrl,B=u.ctaDescription,A=u.ctaSectionBackgroundColor,w=u.ctaTextColor,q=u.ctaButtonBackgroundColor,O=u.ctaButtonHoverColor,P=u.ctaButtonTextColor,j=(r=(0,i.useState)("us"),c=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r,c,l=[],o=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(a=r.call(n)).done)&&(l.push(a.value),l.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw i}}return l}}(r,c)||m(r,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),D=j[0],I=j[1],L=(0,n.useBlockProps)({className:"ib-legal-section",style:{background:"linear-gradient(to bottom, ".concat(p,", ").concat(b,")")}}),W=function(e,t,n){var a=s(h);a[e]=l(l({},a[e]),{},o({},t,n)),g({essentialElements:a})},F=function(e,t,n){var a=s(E);a[e]=l(l({},a[e]),{},o({},t,n)),g({taxRegions:a})},U=function(e,t,n){var a=s(C);a[e]=l(l({},a[e]),{},o({},t,n)),g({internationalCards:a})};return React.createElement(i.Fragment,null,React.createElement(n.InspectorControls,null,React.createElement(n.PanelColorSettings,{title:(0,t.__)("Color Settings","simple-invoice-generator"),colorSettings:[{value:p,onChange:function(e){return g({backgroundColor:e})},label:(0,t.__)("Background Start Color","simple-invoice-generator")},{value:b,onChange:function(e){return g({gradientEndColor:e})},label:(0,t.__)("Background End Color","simple-invoice-generator")},{value:R,onChange:function(e){return g({accentColor:e})},label:(0,t.__)("Accent Color","simple-invoice-generator")}]}),React.createElement(a.PanelBody,{title:(0,t.__)("Section Titles","simple-invoice-generator"),initialOpen:!1},React.createElement("h4",null,(0,t.__)("Essential Elements Section","simple-invoice-generator")),React.createElement(a.TextControl,{label:(0,t.__)("Section Title","simple-invoice-generator"),value:f,onChange:function(e){return g({essentialsSectionTitle:e})},placeholder:(0,t.__)("Enter section title...","simple-invoice-generator")}),React.createElement("hr",null),React.createElement("h4",null,(0,t.__)("Tax Requirements Section","simple-invoice-generator")),React.createElement(a.TextControl,{label:(0,t.__)("Section Title","simple-invoice-generator"),value:x,onChange:function(e){return g({taxSectionTitle:e})},placeholder:(0,t.__)("Enter section title...","simple-invoice-generator")}),React.createElement("hr",null),React.createElement("h4",null,(0,t.__)("International Section","simple-invoice-generator")),React.createElement(a.TextControl,{label:(0,t.__)("Section Title","simple-invoice-generator"),value:y,onChange:function(e){return g({internationalSectionTitle:e})},placeholder:(0,t.__)("Enter section title...","simple-invoice-generator")}),React.createElement("hr",null),React.createElement("h4",null,(0,t.__)("Checklist Section","simple-invoice-generator")),React.createElement(a.TextControl,{label:(0,t.__)("Section Title","simple-invoice-generator"),value:_,onChange:function(e){return g({checklistSectionTitle:e})},placeholder:(0,t.__)("Enter section title...","simple-invoice-generator")})),React.createElement(a.PanelBody,{title:(0,t.__)("CTA Settings","simple-invoice-generator")},React.createElement(a.ToggleControl,{label:(0,t.__)("Show CTA Section","simple-invoice-generator"),checked:T,onChange:function(e){return g({showCTA:e})},help:(0,t.__)('Toggle to show/hide the "Create Compliant Invoices Now" section',"simple-invoice-generator")}),T&&React.createElement(React.Fragment,null,React.createElement(a.TextControl,{label:(0,t.__)("CTA Button Text","simple-invoice-generator"),value:k,onChange:function(e){return g({ctaText:e})}}),React.createElement(n.URLInput,{label:(0,t.__)("CTA URL","simple-invoice-generator"),value:S,onChange:function(e){return g({ctaUrl:e})}}),React.createElement(a.TextControl,{label:(0,t.__)("CTA Description","simple-invoice-generator"),value:B,onChange:function(e){return g({ctaDescription:e})}}))),React.createElement(a.PanelBody,{title:(0,t.__)("CTA Colors","simple-invoice-generator"),initialOpen:!1},React.createElement(n.PanelColorSettings,{title:(0,t.__)("CTA Section Colors","simple-invoice-generator"),colorSettings:[{value:A,onChange:function(e){return g({ctaSectionBackgroundColor:e})},label:(0,t.__)("Section Background Color","simple-invoice-generator")},{value:w,onChange:function(e){return g({ctaTextColor:e})},label:(0,t.__)("Text Color","simple-invoice-generator")},{value:q,onChange:function(e){return g({ctaButtonBackgroundColor:e})},label:(0,t.__)("Button Background Color","simple-invoice-generator")},{value:O,onChange:function(e){return g({ctaButtonHoverColor:e})},label:(0,t.__)("Button Hover Color","simple-invoice-generator")},{value:P,onChange:function(e){return g({ctaButtonTextColor:e})},label:(0,t.__)("Button Text Color","simple-invoice-generator")}]})),React.createElement(a.PanelBody,{title:(0,t.__)("Content Management","simple-invoice-generator"),initialOpen:!1},React.createElement(a.Button,{isPrimary:!0,onClick:function(){var e={number:(h.length+1).toString(),name:"New Element",description:"Add description here..."};g({essentialElements:[].concat(s(h),[e])})}},(0,t.__)("Add Essential Element","simple-invoice-generator")),React.createElement(a.Button,{isPrimary:!0,onClick:function(){g({taxRegions:[].concat(s(E),[{id:"new-region",name:"New Region",title:"New Region Requirements",requirements:["Requirement 1","Requirement 2"]}])})},style:{marginLeft:"10px"}},(0,t.__)("Add Tax Region","simple-invoice-generator")),React.createElement("br",null),React.createElement("br",null),React.createElement(a.Button,{isPrimary:!0,onClick:function(){g({internationalCards:[].concat(s(C),[{flag:"🌍",name:"New Region",requirement:"Add requirement here..."}])})}},(0,t.__)("Add International Card","simple-invoice-generator")),React.createElement(a.Button,{isPrimary:!0,onClick:function(){g({checklist:[].concat(s(N),["New checklist item"])})},style:{marginLeft:"10px"}},(0,t.__)("Add Checklist Item","simple-invoice-generator")))),React.createElement("section",L,React.createElement("div",{className:"ib-container"},React.createElement("div",{className:"ib-section-header"},React.createElement(n.RichText,{tagName:"h2",className:"ib-section-title",value:d,onChange:function(e){return g({title:e})},placeholder:(0,t.__)("Enter section title...","simple-invoice-generator")}),React.createElement(n.RichText,{tagName:"p",className:"ib-section-subtitle",value:v,onChange:function(e){return g({subtitle:e})},placeholder:(0,t.__)("Enter section subtitle...","simple-invoice-generator")})),React.createElement("div",{className:"ib-legal-container"},React.createElement("div",{className:"ib-essentials-card"},React.createElement("div",{className:"ib-essentials-header",style:{textAlign:"center"}},React.createElement(n.RichText,{tagName:"h3",className:"ib-essentials-title",value:f,onChange:function(e){return g({essentialsSectionTitle:e})},placeholder:(0,t.__)("Section title...","simple-invoice-generator")}),React.createElement("p",{style:{color:"#666",margin:"10px 0 20px",maxWidth:"750px",marginLeft:"auto",marginRight:"auto"}},"These fundamental elements must be present on every invoice to ensure legal compliance and professional standards.")),React.createElement("div",{className:"ib-essentials-grid"},h.map(function(e,i){return React.createElement("div",{key:i,className:"ib-essential-item"},React.createElement("div",{className:"ib-essential-controls"},React.createElement(a.Button,{isDestructive:!0,isSmall:!0,onClick:function(){return function(e){var t=h.filter(function(t,n){return n!==e});g({essentialElements:t})}(i)}},(0,t.__)("Remove","simple-invoice-generator"))),React.createElement("div",{className:"ib-essential-number",style:{backgroundColor:R}},React.createElement(a.TextControl,{value:e.number,onChange:function(e){return W(i,"number",e)},style:{textAlign:"center",fontWeight:"600",color:"#fff",background:"transparent",border:"none"}})),React.createElement("div",{className:"ib-essential-content"},React.createElement(n.RichText,{tagName:"div",className:"ib-essential-name",value:e.name,onChange:function(e){return W(i,"name",e)},placeholder:(0,t.__)("Element name...","simple-invoice-generator")}),React.createElement(n.RichText,{tagName:"div",className:"ib-essential-desc",value:e.description,onChange:function(e){return W(i,"description",e)},placeholder:(0,t.__)("Element description...","simple-invoice-generator")})))}))),React.createElement("div",{className:"ib-tax-section"},React.createElement("div",{className:"ib-tax-header",style:{textAlign:"center"}},React.createElement(n.RichText,{tagName:"h3",className:"ib-tax-title",value:x,onChange:function(e){return g({taxSectionTitle:e})},placeholder:(0,t.__)("Section title...","simple-invoice-generator")}),React.createElement("p",{style:{color:"#666",margin:"10px 0 20px",maxWidth:"750px",marginLeft:"auto",marginRight:"auto"}},"Different countries and regions have specific tax requirements that must be included on invoices.")),React.createElement("div",{className:"ib-tax-tabs"},E.map(function(e,i){return React.createElement("div",{key:e.id,className:"ib-tab-wrapper"},React.createElement("div",{className:"ib-tax-tab ".concat(D===e.id?"active":""),onClick:function(){return I(e.id)},style:D===e.id?{backgroundColor:R,color:"#fff"}:{}},React.createElement(n.RichText,{tagName:"span",value:e.name,onChange:function(e){return F(i,"name",e)},placeholder:(0,t.__)("Region name...","simple-invoice-generator")})),React.createElement(a.Button,{isDestructive:!0,isSmall:!0,onClick:function(){return function(e){var t,n=E.filter(function(t,n){return n!==e});g({taxRegions:n}),D===E[e].id&&I((null===(t=n[0])||void 0===t?void 0:t.id)||"us")}(i)},style:{marginLeft:"5px"}},(0,t.__)("×","simple-invoice-generator")))})),E.map(function(e,i){return D===e.id&&React.createElement("div",{key:e.id,className:"ib-tax-content active"},React.createElement("div",{className:"ib-tax-info"},React.createElement(n.RichText,{tagName:"h4",value:e.title,onChange:function(e){return F(i,"title",e)},placeholder:(0,t.__)("Region title...","simple-invoice-generator")}),React.createElement("ul",{className:"ib-tax-list"},e.requirements.map(function(e,n){return React.createElement("li",{key:n,className:"ib-requirement-item"},React.createElement(a.Flex,null,React.createElement(a.FlexItem,null,React.createElement(a.TextControl,{value:e,onChange:function(e){return function(e,t,n){var a=s(E),i=s(a[e].requirements);i[t]=n,a[e]=l(l({},a[e]),{},{requirements:i}),g({taxRegions:a})}(i,n,e)},placeholder:(0,t.__)("Requirement...","simple-invoice-generator")})),React.createElement(a.FlexItem,null,React.createElement(a.Button,{isDestructive:!0,isSmall:!0,onClick:function(){return function(e,t){var n=s(E);n[e].requirements=n[e].requirements.filter(function(e,n){return n!==t}),g({taxRegions:n})}(i,n)}},(0,t.__)("×","simple-invoice-generator")))))})),React.createElement(a.Button,{isSecondary:!0,isSmall:!0,onClick:function(){return function(e){var t=s(E);t[e].requirements.push("New requirement"),g({taxRegions:t})}(i)}},(0,t.__)("Add Requirement","simple-invoice-generator"))))})),React.createElement("div",{className:"ib-international-section"},React.createElement("div",{className:"ib-international-header",style:{textAlign:"center"}},React.createElement(n.RichText,{tagName:"h3",className:"ib-tax-title",value:y,onChange:function(e){return g({internationalSectionTitle:e})},placeholder:(0,t.__)("Section title...","simple-invoice-generator")}),React.createElement("p",{style:{color:"#666",margin:"10px 0 20px",maxWidth:"750px",marginLeft:"auto",marginRight:"auto"}},"When invoicing internationally, additional considerations apply based on the nature of your business and destination country.")),React.createElement("div",{className:"ib-international-grid"},C.map(function(e,i){return React.createElement("div",{key:i,className:"ib-international-card"},React.createElement("div",{className:"ib-card-controls"},React.createElement(a.Button,{isDestructive:!0,isSmall:!0,onClick:function(){return function(e){var t=C.filter(function(t,n){return n!==e});g({internationalCards:t})}(i)}},(0,t.__)("×","simple-invoice-generator"))),React.createElement(a.TextControl,{className:"ib-country-flag",value:e.flag,onChange:function(e){return U(i,"flag",e)},placeholder:"🌍",style:{fontSize:"48px",textAlign:"center",marginBottom:"15px"}}),React.createElement(n.RichText,{tagName:"div",className:"ib-country-name",value:e.name,onChange:function(e){return U(i,"name",e)},placeholder:(0,t.__)("Country/Region name...","simple-invoice-generator")}),React.createElement(n.RichText,{tagName:"div",className:"ib-country-requirement",value:e.requirement,onChange:function(e){return U(i,"requirement",e)},placeholder:(0,t.__)("Requirement description...","simple-invoice-generator")}))}))),React.createElement("div",{className:"ib-checklist-section"},React.createElement("div",{className:"ib-checklist-header",style:{textAlign:"center"}},React.createElement(n.RichText,{tagName:"h3",className:"ib-checklist-title",value:_,onChange:function(e){return g({checklistSectionTitle:e})},placeholder:(0,t.__)("Section title...","simple-invoice-generator")}),React.createElement("p",{style:{color:"#666",margin:"10px 0 20px",maxWidth:"750px",marginLeft:"auto",marginRight:"auto"}},"Maintain proper records for tax compliance and audits")),React.createElement("div",{className:"ib-checklist-grid"},N.map(function(e,n){return React.createElement("div",{key:n,className:"ib-checklist-item"},React.createElement("div",{className:"ib-checkbox",style:{borderColor:R,color:R}},"✓"),React.createElement(a.Flex,{style:{flex:1}},React.createElement(a.FlexItem,{style:{flex:1}},React.createElement(a.TextControl,{className:"ib-checklist-text",value:e,onChange:function(e){return function(e,t){var n=s(N);n[e]=t,g({checklist:n})}(n,e)},placeholder:(0,t.__)("Checklist item...","simple-invoice-generator")})),React.createElement(a.FlexItem,null,React.createElement(a.Button,{isDestructive:!0,isSmall:!0,onClick:function(){return function(e){var t=N.filter(function(t,n){return n!==e});g({checklist:t})}(n)}},(0,t.__)("×","simple-invoice-generator")))))}))),T&&React.createElement("div",{className:"ib-cta-section",style:{backgroundColor:A,"--cta-button-hover-color":O}},React.createElement(n.RichText,{tagName:"p",value:B,onChange:function(e){return g({ctaDescription:e})},placeholder:(0,t.__)("CTA description...","simple-invoice-generator"),style:{fontSize:"18px",color:w,marginBottom:"20px"}}),React.createElement("a",{href:S,className:"ib-cta-button",style:{backgroundColor:q,color:P}},k))))))},save:function(e){var t=e.attributes,a=t.title,i=t.subtitle,r=t.backgroundColor,c=t.gradientEndColor,l=t.accentColor,o=t.essentialElements,s=t.essentialsSectionTitle,m=t.taxRegions,u=t.taxSectionTitle,g=t.internationalCards,d=t.internationalSectionTitle,v=t.checklist,p=t.checklistSectionTitle,b=t.showCTA,R=t.ctaText,h=t.ctaUrl,f=t.ctaDescription,E=t.ctaSectionBackgroundColor,x=t.ctaTextColor,C=t.ctaButtonBackgroundColor,y=t.ctaButtonHoverColor,N=t.ctaButtonTextColor,_=n.useBlockProps.save({className:"ib-legal-section",style:{background:"linear-gradient(to bottom, ".concat(r,", ").concat(c,")")}});return React.createElement("section",_,React.createElement("div",{className:"ib-container"},React.createElement("div",{className:"ib-section-header"},React.createElement(n.RichText.Content,{tagName:"h2",className:"ib-section-title",value:a}),React.createElement(n.RichText.Content,{tagName:"p",className:"ib-section-subtitle",value:i})),React.createElement("div",{className:"ib-legal-container"},React.createElement("div",{className:"ib-essentials-card"},React.createElement("div",{className:"ib-essentials-header",style:{textAlign:"center"}},React.createElement(n.RichText.Content,{tagName:"h3",className:"ib-essentials-title",value:s}),React.createElement("p",{style:{color:"#666",margin:"10px 0 20px",maxWidth:"750px",marginLeft:"auto",marginRight:"auto"}},"These fundamental elements must be present on every invoice to ensure legal compliance and professional standards.")),React.createElement("div",{className:"ib-essentials-grid"},o.map(function(e,t){return React.createElement("div",{key:t,className:"ib-essential-item"},React.createElement("div",{className:"ib-essential-number",style:{backgroundColor:l}},e.number),React.createElement("div",{className:"ib-essential-content"},React.createElement(n.RichText.Content,{tagName:"div",className:"ib-essential-name",value:e.name}),React.createElement(n.RichText.Content,{tagName:"div",className:"ib-essential-desc",value:e.description})))}))),React.createElement("div",{className:"ib-tax-section"},React.createElement("div",{className:"ib-tax-header",style:{textAlign:"center"}},React.createElement(n.RichText.Content,{tagName:"h3",className:"ib-tax-title",value:u}),React.createElement("p",{style:{color:"#666",margin:"10px 0 20px",maxWidth:"750px",marginLeft:"auto",marginRight:"auto"}},"Different countries and regions have specific tax requirements that must be included on invoices.")),React.createElement("div",{className:"ib-tax-tabs"},m.map(function(e,t){return React.createElement("div",{key:e.id,className:"ib-tax-tab ".concat(0===t?"active":""),"data-tab":e.id,style:0===t?{backgroundColor:l,color:"#fff"}:{}},React.createElement(n.RichText.Content,{value:e.name}))})),m.map(function(e,t){return React.createElement("div",{key:e.id,id:e.id,className:"ib-tax-content ".concat(0===t?"active":"")},React.createElement("div",{className:"ib-tax-info"},React.createElement(n.RichText.Content,{tagName:"h4",value:e.title}),React.createElement("ul",{className:"ib-tax-list"},e.requirements.map(function(e,t){return React.createElement("li",{key:t},e)}))))})),React.createElement("div",{className:"ib-international-section"},React.createElement("div",{className:"ib-international-header",style:{textAlign:"center"}},React.createElement(n.RichText.Content,{tagName:"h3",className:"ib-tax-title",value:d}),React.createElement("p",{style:{color:"#666",margin:"10px 0 20px",maxWidth:"750px",marginLeft:"auto",marginRight:"auto"}},"When invoicing internationally, additional considerations apply based on the nature of your business and destination country.")),React.createElement("div",{className:"ib-international-grid"},g.map(function(e,t){return React.createElement("div",{key:t,className:"ib-international-card"},React.createElement("div",{className:"ib-country-flag"},e.flag),React.createElement(n.RichText.Content,{tagName:"div",className:"ib-country-name",value:e.name}),React.createElement(n.RichText.Content,{tagName:"div",className:"ib-country-requirement",value:e.requirement}))}))),React.createElement("div",{className:"ib-checklist-section"},React.createElement("div",{className:"ib-checklist-header",style:{textAlign:"center"}},React.createElement(n.RichText.Content,{tagName:"h3",className:"ib-checklist-title",value:p}),React.createElement("p",{style:{color:"#666",margin:"10px 0 20px",maxWidth:"750px",marginLeft:"auto",marginRight:"auto"}},"Maintain proper records for tax compliance and audits")),React.createElement("div",{className:"ib-checklist-grid"},v.map(function(e,t){return React.createElement("div",{key:t,className:"ib-checklist-item"},React.createElement("div",{className:"ib-checkbox",style:{borderColor:l,color:l}},"✓"),React.createElement("div",{className:"ib-checklist-text"},e))}))),b&&React.createElement("div",{className:"ib-cta-section",style:{backgroundColor:E,"--cta-button-hover-color":y}},React.createElement(n.RichText.Content,{tagName:"p",value:f,style:{fontSize:"18px",color:x,marginBottom:"20px"}}),React.createElement("a",{href:h,className:"ib-cta-button",style:{backgroundColor:C,color:N}},R)))))}})})();